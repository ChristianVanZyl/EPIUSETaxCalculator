<%- include("partials/Header"); -%>

<body>
  <!-- start main container -->  
  <div class="container-fluid" >
  
  <!-- start row -->   
  <div class="row full-row">
  <!-- start col 1 --> 
  <div class="col-sm-6 full-col" style="background-color:#f7f6f7"> 
    <div class="leftImageDiv">
    <img src="/images/PAYE.png" class="img-fluid" alt="Responsive image">
   </div>

  <!-- start secondary container -->  
<div class="container">
  <!-- start row -->   
  <div class="row">
  <!-- start col 1 --> 
  <div class="col-sm-12">
    <div class="centerForm">
    <form class="" action="/" method="post" style="padding-top: 6%">
  
      <div class="mb-3">
        <label for="userInputs" class="form-label">Please input your age:</label>
        <div><input type="number" inputmode="numeric" id="userInputs" name="ageInput" class="form-control" placeholder="Enter age" value = <%= ageSaved %>>
        
      </div>
      <div class="mb-3" style="padding-top: 5%">
        <label for="userInputs" class="form-label">Please enter your yearly income:</label>
        <div></div><input type="number" step="0.01" name="incomeInput" id="userInputs" class="form-control" placeholder="Enter income" value= <%= incomeSaved %>></div>
      </div>
      <div style="padding-top: 7%;">
        <button type="submit" class="submitButton btn btn-primary">Calculate</button>
      </div> 
  </form>
    </div>
  </div>
   <!-- end col 1 --> 
  </div>
  <!-- end row -->   
</div>
<!-- end secondary container -->    
</div> 
<!-- end col 1 --> 
   
<!-- start col 2 --> 
  <div class="col-sm-12 full-col" style="background-color:#587d9f"> 
      <div class="rightImageDiv">
      <img src="/images/ZONE.png" class="img-fluid" alt="Responsive image">
     </div>
     <div class="tableDiv">
<!-- Button trigger modal -->
<button type="button" class="viewButton btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" <%= buttonStatus %>>
  View Results
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Calculated Tax Results</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table table-bordered" style="background-color: #30373f; border-color: white; ">
          <tbody>
            <tr style="background-color: #587d9f; color: white">
              <th colspan="2">Threshold and Rebate</td>
            </tr>
            <tr>
              <th scope="row">Tax Threshold</th>
              <td>R<%= taxThreshold %></td>
            </tr>
            <tr>
              <th scope="row">Tax Rebate</th>
              <td>R<%= taxRebate %></td>
            </tr>
            <tr style="background-color: #587d9f; color: white">
              <th colspan="2">Pay As You Earn (PAYE)</td>
            </tr>
            <tr>
              <th scope="row">Yearly Tax Before Rebate</th>
              <td>R<%= yearlyBeforeRebate %></td>
            </tr>
            <tr>
              <th scope="row">Yearly Payable Tax</th>
              <td>R<%= taxTotal %> </td>
            </tr>
            <tr>
              <th scope="row">PAYE Total</th>
              <td>R<%= paye %> </td>
            </tr>
            <tr style="background-color: #587d9f; color: white">
              <th colspan="2">Unemployment Insurance Fund (UIF)</td>
            </tr>
            <tr>
              <th scope="row">UIF Maximum</th>
              <td>R<%= uifMax %></td>
            </tr>
            <tr>
              <th scope="row">UIF Percentage</th>
              <td><%= uifPerc %>%</td>
            </tr>
            <tr>
              <th scope="row">UIF Monthly</th>
              <td>R<%= uifMonthly %></td>
            </tr>
            <tr style="background-color: #587d9f; color: white">
              <th colspan="2">Net Payout</td>
            </tr>
            <tr>
              <th scope="row">Net Income Per Month</th>
              <td>R<%= netMonthly %></td>
            </tr>
            <tr>
              <th scope="row">Net Income Per Year</th>
              <td>R<%= netYearly %></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="closeButton btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
</div>
</div>
<!-- end col 2 --> 
</div>
<!-- end row -->   
</div>
<!-- end main container --> 

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

</body>


<%- include("partials/Footer"); -%>